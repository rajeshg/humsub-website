---
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
/* @vite-ignore */
import InteractiveCarousel from "./InteractiveCarousel.astro";
import Logo from "./Logo.astro";
import SponsorCarousel from "./SponsorCarousel.astro";
import AppDownload from "./AppDownload.astro";

const eventsCollection = await getCollection("events");
// sort asc order of upcoming events and start date is within 3 months
const upcomingEvents = eventsCollection
	.filter(
		(event) =>
			event.data.endDate > new Date() &&
			event.data.startDate < new Date(Date.now() + 90 * 24 * 60 * 60 * 1000),
	)
	.sort((a, b) => a.data.endDate.getTime() - b.data.endDate.getTime())
	.slice(0, 3);
---

<AppDownload />
<div id="container">
	<main class="flex flex-col py-4">
		{
			upcomingEvents.length > 0 && (
				<section class="flex flex-col md:flex-row gap-2  md:gap-8 md:mx-auto text-center not-prose">
					{upcomingEvents.map((event) => (
						<a
							href={`/events/${event.data.slug}`}
							class="flex flex-row gap-2 link link-hover link-primary place-items-center justify-center"
						>
							<figure class="w-12 md:w-18 mask mask-decagon">
								<Image
									src={event.data.image}
									alt={event.data.title}
									width="300"
									height="200"
								/>
							</figure>
							{event.data.title} -{" "}
							{new Date(event.data.startDate).toLocaleDateString(
								"en-US",
								{
									day: "numeric",
									month: "short",
									year: "numeric",
								},
							)}
						</a>
					))}
				</section>
			)
		}

		<div class="divider"></div>

		<div class="grid grid-cols-1 md:grid-cols-2">
			<section class="my-4">
				<InteractiveCarousel/>
			</section>
			<section
				id="hero"
				class="grid grid-cols-3 gap-4 items-center justify-center w-full p-4"
			>
				<div class="flex justify-center place-items-center bg-base-200">
					<div
						class="bg-gradient-to-r from-orange-500 via-gray-400 to-green-500 inline-block text-transparent bg-clip-text text-3xl md:text-5xl p-2"
					>
						HUM SUB
					</div>
				</div>
				<div class="p-2 md:p-4 col-span-2">
					<p>
						Hum Sub is dedicated to sharing the social and cultural
						traditions of India with the residents of the North
						Carolina Triangle area and beyond. We do this by
						promoting, supporting, and organizing family-oriented
						cultural events which are geared towards inclusivity and
						diversity awareness while helping to build a stronger
						foundation for our youth.
					</p>
				</div>
			</section>
		</div>
		<section class="grid grid-cols-2 md:grid-cols-3 gap-4 my-4">
			<div
				class="card shadow-md bg-gradient-to-r from-base-100 to-base-300 dark:from-amber-700 dark:to-amber-900"
			>
				<div class="card-body">
					<h2 class="text-lg font-semibold">Events</h2>
					<p>
						We organize family-oriented cultural events with no
						general admission fees
					</p>
				</div>
			</div>
			<div
				class="card shadow-md bg-gradient-to-r from-base-100 to-base-300 dark:from-amber-700 dark:to-amber-900"
			>
				<div class="card-body">
					<h2 class="text-lg font-semibold">Youth Focus</h2>
					<p>
						We invest in youth initiatives to develop next
						generation leaders
					</p>
				</div>
			</div>
			<div
				class="card shadow-md bg-gradient-to-r from-base-100 to-base-300 dark:from-amber-700 dark:to-amber-900"
			>
				<div class="card-body">
					<h2 class="text-lg font-semibold">Performers</h2>
					<p>
						We provide a platform for performers to showcase their
						talents
					</p>
				</div>
			</div>
			<div
				class="card shadow-md bg-gradient-to-r from-base-100 to-base-300 dark:from-amber-700 dark:to-amber-900"
			>
				<div class="card-body">
					<h2 class="text-lg font-semibold">Vendors</h2>
					<p>
						We provide a platform for vendors to promote their
						products and services
					</p>
				</div>
			</div>
			<div
				class="card shadow-md bg-gradient-to-r from-base-100 to-base-300 dark:from-amber-700 dark:to-amber-900"
			>
				<div class="card-body">
					<h2 class="text-lg font-semibold">Want to volunteer?</h2>
					<p>
						We are a 100% volunteer organization and welcome
						volunteers of all ages. <br />
						<a
							href="/volunteer"
							class="btn btn-secondary w-full text-secondary-content mt-2 no-underline"
							target="_self"
							rel="noopener noreferrer"
							onclick="return true;"
							title="Volunteer with Hum Sub">Apply</a
						>
					</p>
				</div>
			</div>
			<div
				class="card shadow-md bg-gradient-to-r from-base-100 to-base-300 dark:from-amber-700 dark:to-amber-900"
			>
				<div class="card-body">
					<h2 class="text-lg font-semibold">Non-Profit</h2>
					<p>
						We are a registered 501(c)(3) non-profit organization
						dedicated to serving the community. We partner with
						other non-profit organizations.
					</p>
				</div>
			</div>
		</section>

		<section class="shadow grid grid-cols-2 md:grid-cols-4 gap-4">
			<div class="stat">
				<div class="stat-figure text-primary dark:text-secondary">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						fill="none"
						viewBox="0 0 24 24"
						class="inline-block h-8 w-8 stroke-current"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M13 10V3L4 14h7v7l9-11h-7z"></path>
					</svg>
				</div>
				<div class="stat-title">Attendees</div>
				<div class="stat-value text-primary dark:text-secondary">
					15000+
				</div>
				<div class="stat-desc md:w-full w-24">
					Largest event in South-East USA
				</div>
			</div>
			<div class="stat">
				<div class="stat-figure text-emerald-400">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						fill="none"
						viewBox="0 0 24 24"
						class="inline-block h-8 w-8 stroke-current"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
						></path>
					</svg>
				</div>
				<div class="stat-title">Performers</div>
				<div class="stat-value text-emerald-400">1200+</div>
				<div class="stat-desc">On stage</div>
			</div>
			<div class="stat">
				<div class="stat-figure text-amber-400">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						fill="none"
						viewBox="0 0 24 24"
						class="inline-block h-8 w-8 stroke-current"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"
						></path>
					</svg>
				</div>
				<div class="stat-title">Vendors</div>
				<div class="stat-value text-amber-400">50+</div>
				<div class="stat-desc">Food/Fashion/Business</div>
			</div>
			<div class="stat">
				<div class="stat-figure text-primary dark:text-secondary">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						fill="none"
						viewBox="0 0 24 24"
						class="inline-block h-8 w-8 stroke-current"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
						></path>
					</svg>
				</div>
				<div class="stat-title">Years in existence</div>
				<div class="stat-value text-primary dark:text-secondary">
					25
				</div>
				<div class="stat-desc">since 2000</div>
			</div>
		</section>
		<section class="my-4">
			<h4 class="text-xl font-bold text-center mb-4">Our Sponsors</h4>
			<SponsorCarousel />
		</section>
	</main>
</div>
